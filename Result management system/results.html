<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Result Management System - View All</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container mt-5">
        <h2 class="text-center bg-success text-white py-2">Result Management System</h2>
        <a href="index.html" class="btn btn-primary mt-3">Back</a>
        <h3 class="mt-4">All Student Results</h3>
        <div id="resultsList" class="mt-4">
            <script>
                document.addEventListener('DOMContentLoaded', function() {
    const students = JSON.parse(localStorage.getItem('students')) || [];
    const resultsList = document.getElementById('resultsList');
    if (students.length === 0) {
        resultsList.innerHTML = '<p>No results available.</p>';
    } else {
        let serialNumber = 1; // Initialize serial number
        students.forEach((student, index) => {
            resultsList.innerHTML += `
                <div class="result-item">
                    <span>${serialNumber}. Roll No: ${student.rollNo}, Name: ${student.name}, DOB: ${student.dob}, Score: ${student.score}</span>
                    <button class="delete-btn" onclick="deleteStudent(${index})">Delete</button>
                </div>`;
            serialNumber++; // Increment serial number for the next record
        });
    }
});

function deleteStudent(index) {
    if (confirm('Are you sure you want to delete this record?')) {
        let students = JSON.parse(localStorage.getItem('students')) || [];
        students.splice(index, 1);
        localStorage.setItem('students', JSON.stringify(students));
        location.reload();
    }
}
            </script>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>